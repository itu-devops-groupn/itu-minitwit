@page "/register"
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@model Chirp.Razor.Pages.RegisterModel
@{
    Layout = "Shared/_Layout.cshtml";
    string? error = ViewData.ModelState["error"]?.Errors.FirstOrDefault()?.ErrorMessage;
}

<h2>Sign Up</h2>
@if(error != null)
{
    <div class=error><strong>Error:</strong> @(error)</div>
}
<form method=post>
    <dl>
        <dt>Username:
        <dd><input type=text name=username size=30 asp-for="Username">
        <dt>E-Mail:
        <dd><input type=email name=email size=30 asp-for="Email">
        <dt>Password:
        <dd><input type=password name=password size=30 asp-for="Password">
        <dt>Password <small>(repeat)</small>:
        <dd><input type=password name=passwordrepeat size=30 asp-for="PasswordRepeat">
    </dl>
    <div class=actions><input type=submit value="Sign Up"></div>
    @Html.AntiForgeryToken()
</form>